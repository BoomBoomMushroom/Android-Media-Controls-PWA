<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediaSession Test</title>
    <link rel="manifest" href="/manifest.json">
</head>
<body>
    <h1>Media Playback PWA</h1>
    <button onclick="initMedia()">Start Music</button>
    <audio id="audioPlayer" src="./Colorblind-BeachBunny.mp3" controls></audio>

    <script>
        const audioPlayer = document.getElementById('audioPlayer');
        function initMedia() {
            audioPlayer.play().then(() => {
                navigator.mediaSession.metadata = new MediaMetadata({
                    title: "Colorblind",
                    artist: "Beach Bunny",
                    album: "Honeymoon",
                    artwork: [{ src: 'https://dummyimage.com/96x96', sizes: '96x96', type: 'image/png' }]
                });

                navigator.mediaSession.playbackState = 'playing';
            }).catch((e) => console.error('Playback error:', e));
        }
    </script>
</body>
</html>
